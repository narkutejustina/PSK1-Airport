<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
>
<h:head>
    <title>PSK</title>
</h:head>

<h:body>
    <h1>Passengers </h1>     <h:link outcome="index">HOME</h:link>

    <h:form>
        <p:panel header="Add new passenger" style="margin-bottom:10px;">
            <h:panelGrid columns="2" cellpadding="5">

                <p:outputLabel for="name" value="First name:" />
                <p:inputText id="name" value="#{passengersController.newPassenger.name}"/>

                <p:outputLabel for="surname" value="Last name:" />
                <p:inputText id="surname" value="#{passengersController.newPassenger.surname}"/>

                <p:outputLabel for="code" value="Personal code:" />
                <p:inputText id="code" value="#{passengersController.newPassenger.personalCode}"/>

                <p:outputLabel for="flights" value="Flight: " />
                <p:selectOneMenu id="flights" converter="omnifaces.SelectItemsConverter" 
                                 value="#{passengersController.selectedFlight}" style="width:300px">
                    <f:selectItem itemLabel="Select Flight" itemValue="" noSelectionOption="true" />
                    <f:selectItems itemLabel="#{flight.getStringDate()}: #{flight.arrivalAirport.code}-#{flight.departureAirport.code}"
                                   value="#{passengersController.flights}" var="flight" />
                </p:selectOneMenu>


            </h:panelGrid>

            <p:separator />
            <p:commandButton value="Add passenger"
                actionListener="#{passengersController.addPassenger()}"
                ajax="false"/>

        </p:panel>
    </h:form>
    </h:body>
</html>